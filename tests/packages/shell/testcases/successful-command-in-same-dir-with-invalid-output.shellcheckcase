# -*- shell-script -*-

#
# Tests executing a shell command.
# The shell command is executed from the file-list on the command line.
# The shell command exists with successful status and outputs invalid
# file-names.
#

[conf]

m4_include(common.m4)

home = ..


[setup]


copy data

file data/the.list =
<<-
@shell @[EXACTLY_HOME]@/scripts/print-arguments non-existing-file.txt
-


[act]

M4_EXECUTABLE data/the.list

[assert]


exit-code == M4_EXIT_FILE_DOES_NOT_EXIST

stdout   empty
